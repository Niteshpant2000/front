{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.username = '';\n    this.password = '';\n    this.role = '';\n    this.authRequest = {\n      \"userName\": \"\",\n      \"password\": \"\",\n      \"role\": \"\"\n    };\n    this.roles = ['admin', 'Employee', 'Cutomer'];\n  }\n  getAccessToken(authRequest) {\n    let resp = this.authService.generateToken(authRequest);\n    resp.subscribe(data => {\n      console.log(\"Token : \" + data);\n    });\n  }\n  ngOnInit() {\n    this.username = '';\n    this.password = '';\n  }\n  login() {\n    console.log(this.username + \" \" + this.password + \" \" + this.role);\n    this.authRequest.userName = this.username;\n    this.authRequest.password = this.password;\n    this.authRequest.role = this.role;\n    this.getAccessToken(this.authRequest);\n    //   this.user.username = this.username;\n    //   this.user.password = this.password;\n    //   this.user.role = this.role;\n    //   this.authService.login(this.user).subscribe(res => {\n    //     if(res == null) {\n    //       alert(\"Uername or password is wrong\");\n    //       this.ngOnInit();\n    //     }else {\n    //       console.log(\"Login successful\");\n    //       localStorage.setItem(\"token\",res.token);\n    //       if(this.role == 'user') {\n    //         this.route.navigate(['/user']);\n    //       } \n    //       if( this.role == 'admin') {\n    //         this.route.navigate(['/admin']);\n    //       }\n    //     }\n    //   }, err => {\n    //     alert(\"Login failed\");\n    //     this.ngOnInit();\n    //   })\n  }\n};\n\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAYzBC,YAAoBC,WAAyB;IAAzB,gBAAW,GAAXA,WAAW;IAX/B,aAAQ,GAAY,EAAE;IACtB,aAAQ,GAAY,EAAE;IACtB,SAAI,GAAY,EAAE;IAElB,gBAAW,GAAM;MACf,UAAU,EAAG,EAAE;MACf,UAAU,EAAG,EAAE;MACf,MAAM,EAAG;KACV;IAIC,IAAI,CAACC,KAAK,GAAG,CACX,OAAO,EACP,UAAU,EACV,SAAS,CACV;EACH;EAGOC,cAAc,CAACC,WAAgB;IACpC,IAAIC,IAAI,GAAG,IAAI,CAACJ,WAAW,CAACK,aAAa,CAACF,WAAW,CAAC;IACtDC,IAAI,CAACE,SAAS,CAACC,IAAI,IAAG;MACpBC,OAAO,CAACC,GAAG,CAAC,UAAU,GAACF,IAAI,CAAC;IAC9B,CAAC,CAAC;EACJ;EAEAG,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,QAAQ,GAAG,EAAE;EACpB;EAEAC,KAAK;IACHL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,QAAQ,GAAG,GAAG,GAAG,IAAI,CAACC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAACE,IAAI,CAAC;IAClE,IAAI,CAACX,WAAW,CAACY,QAAQ,GAAG,IAAI,CAACJ,QAAQ;IACzC,IAAI,CAACR,WAAW,CAACS,QAAQ,GAAG,IAAI,CAACA,QAAQ;IACzC,IAAI,CAACT,WAAW,CAACW,IAAI,GAAG,IAAI,CAACA,IAAI;IAEjC,IAAI,CAACZ,cAAc,CAAC,IAAI,CAACC,WAAW,CAAC;IACvC;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IAEA;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;EAEA;CACD;;AArEYL,cAAc,eAL1BD,SAAS,CAAC;EACTmB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWpB,cAAc,CAqE1B;SArEYA,cAAc","names":["Component","LoginComponent","constructor","authService","roles","getAccessToken","authRequest","resp","generateToken","subscribe","data","console","log","ngOnInit","username","password","login","role","userName","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\front\\src\\app\\components\\auth\\login\\login.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit{\r\n  username : string = '';\r\n  password : string = '';\r\n  role : string = '';\r\n\r\n  authRequest: any={\r\n    \"userName\" : \"\",\r\n    \"password\" : \"\",\r\n    \"role\" : \"\"\r\n  };\r\n  roles !: string[];\r\n\r\n  constructor(private authService : AuthService) { \r\n    this.roles = [\r\n      'admin',\r\n      'Employee',\r\n      'Cutomer'\r\n    ]\r\n  }\r\n\r\n\r\n  public getAccessToken(authRequest: any){\r\n    let resp = this.authService.generateToken(authRequest);\r\n    resp.subscribe(data => {\r\n      console.log(\"Token : \"+data);\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.username = '';\r\n    this.password = '';\r\n  }\r\n\r\n  login() {\r\n    console.log(this.username + \" \" + this.password + \" \" + this.role);\r\n    this.authRequest.userName = this.username;\r\n    this.authRequest.password = this.password;\r\n    this.authRequest.role = this.role;\r\n\r\n    this.getAccessToken(this.authRequest);\r\n  //   this.user.username = this.username;\r\n  //   this.user.password = this.password;\r\n  //   this.user.role = this.role;\r\n\r\n  //   this.authService.login(this.user).subscribe(res => {\r\n\r\n  //     if(res == null) {\r\n  //       alert(\"Uername or password is wrong\");\r\n  //       this.ngOnInit();\r\n  //     }else {\r\n  //       console.log(\"Login successful\");\r\n  //       localStorage.setItem(\"token\",res.token);\r\n\r\n  //       if(this.role == 'user') {\r\n  //         this.route.navigate(['/user']);\r\n  //       } \r\n\r\n  //       if( this.role == 'admin') {\r\n  //         this.route.navigate(['/admin']);\r\n  //       }\r\n\r\n  //     }\r\n\r\n  //   }, err => {\r\n  //     alert(\"Login failed\");\r\n  //     this.ngOnInit();\r\n  //   })\r\n\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}