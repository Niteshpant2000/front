{"ast":null,"code":"import { Inventory } from 'src/app/pojos/Inventory';\nimport { Transaction } from 'src/app/pojos/Transaction';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/rest.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../add-customer/add-customer.component\";\nfunction BillingComponent_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\", 9)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function BillingComponent_tbody_19_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToBilling(product_r2));\n    });\n    i0.ɵɵtext(13, \"ADD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function BillingComponent_tbody_19_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.remove(product_r2));\n    });\n    i0.ɵɵtext(16, \"remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.cost);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.quantity);\n  }\n}\nfunction BillingComponent_tbody_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelement(12, \"button\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const prt_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prt_r6.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prt_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prt_r6.cost);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prt_r6.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prt_r6.cost * prt_r6.quantity);\n  }\n}\nexport class BillingComponent {\n  constructor(fb, restService) {\n    this.fb = fb;\n    this.restService = restService;\n    this.restService.getAllInventory().subscribe(product => {\n      this.prod = product;\n    });\n    this.products = [];\n    this.show = true;\n    this.grandTotal = 0;\n  }\n  ngOnInit() {}\n  remove(product) {\n    for (let index in this.products) {\n      if (this.products[index].id == product.id) {\n        let quantity = this.products[index].quantity;\n        this.products[index].quantity -= 1;\n        product.quantity += 1;\n        this.grandTotal -= product.cost;\n        if (this.products[index].quantity == 0) {\n          this.products.splice(parseInt(index), 1);\n          break;\n        }\n      }\n    }\n  }\n  addToBilling(product) {\n    for (let index in this.products) {\n      if (this.products[index].id == product.id) {\n        product.quantity -= 1;\n        let quantity = this.products[index].quantity;\n        this.products[index].quantity += 1;\n        this.show = false;\n        this.grandTotal += product.cost;\n        break;\n      }\n    }\n    if (this.show == true) {\n      let newProduct = new Inventory(product.id, product.name, product.description, product.cost, product.rating, product.manufacturer, product.discount, 1);\n      this.products.push(newProduct);\n      product.quantity -= 1;\n      this.grandTotal += product.cost;\n    }\n    this.show = true;\n  }\n  addTransactionFunc() {\n    let productDetails = this.products.toString();\n    let transaction = new Transaction(\"testString\", \"custID\", \"12\", \"productDetail\", this.grandTotal, \"UPI\");\n    this.restService.addTransaction(transaction).subscribe();\n  }\n  pushToTransaction() {\n    console.log(\"enter\");\n    // add to transaction table\n    this.addTransactionFunc();\n    console.log(\"exit\");\n    // implementing print feature\n    let printContents = document.querySelector('printable');\n    let originalContents = document.body.innerHTML;\n    document.body.innerHTML = printContents.innerHTML;\n    window.print();\n    document.body.innerHTML = originalContents;\n  }\n}\nBillingComponent.ɵfac = function BillingComponent_Factory(t) {\n  return new (t || BillingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.RestService));\n};\nBillingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BillingComponent,\n  selectors: [[\"app-billing\"]],\n  decls: 41,\n  vars: 3,\n  consts: [[1, \"container-fluid\"], [1, \"table-wrapper\"], [1, \"fl-table\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [\"scope\", \"row\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"printable\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"value\", \"PRINT RECEIPT\", 3, \"click\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-primary\"]],\n  template: function BillingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-add-customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"table\", 2)(4, \"thead\", 3)(5, \"th\", 4);\n      i0.ɵɵtext(6, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\", 4);\n      i0.ɵɵtext(8, \"NAME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 4);\n      i0.ɵɵtext(10, \"DESCRIPTION\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"PRICE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"QUANTITY REMAINING IN STOCK\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 4);\n      i0.ɵɵtext(16, \"+\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 4);\n      i0.ɵɵtext(18, \"-\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(19, BillingComponent_tbody_19_Template, 17, 5, \"tbody\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(20, \"br\")(21, \"br\");\n      i0.ɵɵelementStart(22, \"div\", 6)(23, \"div\", 1)(24, \"table\", 2)(25, \"thead\")(26, \"th\");\n      i0.ɵɵtext(27, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"NAME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"PRICE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\");\n      i0.ɵɵtext(33, \"QUANTITY\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"th\");\n      i0.ɵɵtext(35, \"P * Q\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(36, BillingComponent_tbody_36_Template, 13, 5, \"tbody\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"h1\");\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(39, \"div\")(40, \"input\", 8);\n      i0.ɵɵlistener(\"click\", function BillingComponent_Template_input_click_40_listener() {\n        return ctx.pushToTransaction();\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.prod);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Grand Total: \", ctx.grandTotal, \"\");\n    }\n  },\n  dependencies: [i3.NgForOf, i4.AddCustomerComponent],\n  styles: [\"*[_ngcontent-%COMP%]{\\r\\n    box-sizing: border-box;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    -moz-box-sizing: border-box;\\r\\n}\\r\\nbody[_ngcontent-%COMP%]{\\r\\n    font-family: Helvetica;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    background: rgba( 71, 147, 227, 1);\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    font-size: 18px;\\r\\n    text-transform: uppercase;\\r\\n    letter-spacing: 1px;\\r\\n    color: white;\\r\\n    padding: 30px 0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.table-wrapper[_ngcontent-%COMP%]{\\r\\n    margin: 10px 70px 70px;\\r\\n    box-shadow: 0px 35px 50px rgba( 0, 0, 0, 0.2 );\\r\\n}\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%] {\\r\\n    border-radius: 5px;\\r\\n    font-size: 12px;\\r\\n    font-weight: normal;\\r\\n    border: none;\\r\\n    border-collapse: collapse;\\r\\n    width: 100%;\\r\\n    max-width: 100%;\\r\\n    white-space: nowrap;\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fl-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    padding: 8px;\\r\\n}\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n    border-right: 1px solid #f8f8f8;\\r\\n    font-size: 12px;\\r\\n}\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n    color: #ffffff;\\r\\n    background: #4FC3A1;\\r\\n}\\r\\n\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(odd) {\\r\\n    color: #ffffff;\\r\\n    background: #324960;\\r\\n}\\r\\n\\r\\n.fl-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n    background: #F8F8F8;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9iaWxsaW5nL2JpbGxpbmcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0Qiw4QkFBOEI7SUFDOUIsMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSxzQkFBc0I7SUFDdEIsbUNBQW1DO0lBQ25DLGtDQUFrQztBQUN0QztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBLGlCQUFpQjs7QUFFakI7SUFDSSxzQkFBc0I7SUFDdEIsOENBQThDO0FBQ2xEOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLCtCQUErQjtJQUMvQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksY0FBYztJQUNkLG1CQUFtQjtBQUN2Qjs7O0FBR0E7SUFDSSxjQUFjO0lBQ2QsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCIiwic291cmNlc0NvbnRlbnQiOlsiKntcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuYm9keXtcclxuICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7XHJcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoIDcxLCAxNDcsIDIyNywgMSk7XHJcbn1cclxuaDJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDMwcHggMDtcclxufVxyXG5cclxuLyogVGFibGUgU3R5bGVzICovXHJcblxyXG4udGFibGUtd3JhcHBlcntcclxuICAgIG1hcmdpbjogMTBweCA3MHB4IDcwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMzVweCA1MHB4IHJnYmEoIDAsIDAsIDAsIDAuMiApO1xyXG59XHJcblxyXG4uZmwtdGFibGUge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmZsLXRhYmxlIHRkLCAuZmwtdGFibGUgdGgge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG59XHJcblxyXG4uZmwtdGFibGUgdGQge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2Y4ZjhmODtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG5cclxuLmZsLXRhYmxlIHRoZWFkIHRoIHtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgYmFja2dyb3VuZDogIzRGQzNBMTtcclxufVxyXG5cclxuXHJcbi5mbC10YWJsZSB0aGVhZCB0aDpudGgtY2hpbGQob2RkKSB7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGJhY2tncm91bmQ6ICMzMjQ5NjA7XHJcbn1cclxuXHJcbi5mbC10YWJsZSB0cjpudGgtY2hpbGQoZXZlbikge1xyXG4gICAgYmFja2dyb3VuZDogI0Y4RjhGODtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Inventory","Transaction","i0","BillingComponent","constructor","fb","restService","getAllInventory","subscribe","product","prod","products","show","grandTotal","ngOnInit","remove","index","id","quantity","cost","splice","parseInt","addToBilling","newProduct","name","description","rating","manufacturer","discount","push","addTransactionFunc","productDetails","toString","transaction","addTransaction","pushToTransaction","console","log","printContents","document","querySelector","originalContents","body","innerHTML","window","print","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\front\\src\\app\\components\\billing\\billing.component.ts","D:\\front\\src\\app\\components\\billing\\billing.component.html"],"sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy,Input } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MdbModalRef } from 'mdb-angular-ui-kit/modal';\r\nimport { Inventory } from 'src/app/pojos/Inventory';\r\nimport { Transaction } from 'src/app/pojos/Transaction';\r\nimport { RestService } from 'src/app/services/rest.service';\r\n\r\n@Component({\r\n  selector: 'app-billing',\r\n  templateUrl: './billing.component.html',\r\n  styleUrls: ['./billing.component.css']\r\n})\r\nexport class BillingComponent implements OnInit{\r\n  show!:boolean;\r\n  products!:Inventory[];    // new bill for user\r\n  prod!:Inventory[];        // all inventory\r\n  grandTotal!:number;\r\n  transaction!:Transaction;\r\n  constructor(\r\n    private fb : FormBuilder,private restService:RestService\r\n  ){\r\n     this.restService.getAllInventory().subscribe(product=>{this.prod=product as Inventory[]})\r\n    this.products=[];\r\n    this.show=true;\r\n    this.grandTotal=0;\r\n  \r\n    \r\n  }\r\n  \r\n\r\n  ngOnInit(): void {\r\n \r\n  }\r\n  remove(product:Inventory){\r\n    for(let index in this.products){\r\n      \r\n      if(this.products[index].id==product.id){\r\n        \r\n        let quantity=this.products[index].quantity;\r\n        this.products[index].quantity-=1;\r\n        product.quantity+=1;\r\n        this.grandTotal-=product.cost;\r\n        if(this.products[index].quantity==0){\r\n          this.products.splice(parseInt(index),1);\r\n          break;\r\n        }\r\n    }\r\n  }\r\n  }\r\n\r\n  addToBilling(product:Inventory){\r\n    \r\n    for(let index in this.products){\r\n        if(this.products[index].id==product.id){\r\n          product.quantity-=1;\r\n          let quantity=this.products[index].quantity;\r\n          this.products[index].quantity+=1;\r\n          this.show=false;\r\n          this.grandTotal+=product.cost;\r\n          break;\r\n      }\r\n    }\r\n    if(this.show==true){\r\n      let newProduct:Inventory=new Inventory(product.id,product.name,product.description,product.cost,product.rating,product.manufacturer,product.discount,1);\r\n      this.products.push(newProduct);\r\n      product.quantity-=1;\r\n      this.grandTotal+=product.cost;\r\n    }\r\n\r\n    this.show=true;\r\n  }\r\n\r\n  addTransactionFunc(){\r\n    let productDetails:string = this.products.toString();\r\n    let transaction:Transaction = new Transaction(\"testString\",\"custID\",\"12\",\"productDetail\",this.grandTotal,\"UPI\");\r\n    this.restService.addTransaction(transaction).subscribe();\r\n  }\r\n\r\n  pushToTransaction(){\r\n    console.log(\"enter\");\r\n    \r\n    // add to transaction table\r\n    this.addTransactionFunc();\r\n\r\n    console.log(\"exit\");\r\n\r\n    // implementing print feature\r\n    let printContents = document.querySelector('printable') as HTMLElement;\r\n    let originalContents = document.body.innerHTML;\r\n\r\n    document.body.innerHTML = printContents.innerHTML;\r\n    window.print();\r\n    document.body.innerHTML = originalContents;\r\n  }\r\n}","<div class=\"container-fluid\">\r\n    <app-add-customer></app-add-customer>\r\n</div>\r\n<div class=\"table-wrapper\">\r\n    <table class=\"fl-table\">\r\n        <thead class=\"thead-dark\">\r\n            <th scope=\"col\">ID</th>\r\n            <th scope=\"col\">NAME</th>\r\n            <th scope=\"col\">DESCRIPTION</th>\r\n            <th scope=\"col\">PRICE</th>\r\n            <th scope=\"col\">QUANTITY REMAINING IN STOCK</th>\r\n            <th scope=\"col\">+</th>\r\n            <th scope=\"col\">-</th>\r\n        </thead>\r\n        <tbody *ngFor=\"let product of prod\" scope=\"row\">\r\n            <td>{{product.id}}</td>\r\n            <td>{{product.name}}</td>\r\n            <td>{{product.description}}</td>\r\n            <td>{{product.cost}}</td>\r\n            <td>{{product.quantity}}</td>\r\n            <td><button class=\"btn btn-primary\" (click)=\"addToBilling(product)\">ADD</button></td>\r\n            <td><button class=\"btn btn-danger\" (click)=\"remove(product)\">remove</button></td>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n<br/><br/>\r\n\r\n<div id=\"printable\">\r\n    <div class=\"table-wrapper\">\r\n        <table class=\"fl-table\">\r\n            <thead>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PRICE</th>\r\n                <th>QUANTITY</th>\r\n                <th>P * Q</th>\r\n            </thead>\r\n            <tbody *ngFor=\"let prt of products\">\r\n                <td>{{prt.id}}</td>\r\n                <td>{{prt.name}}</td>\r\n                <td>{{prt.cost}}</td>\r\n                <td>{{prt.quantity}}</td>\r\n                <td>{{prt.cost*prt.quantity}}</td>\r\n                <td><button class=\"btn btn-primary\"></button></td>\r\n            </tbody>\r\n        </table>\r\n        <h1>Grand Total: {{grandTotal}}</h1>\r\n    </div>\r\n</div>\r\n\r\n<div>\r\n    <input type=\"button\" value=\"PRINT RECEIPT\" (click)=\"pushToTransaction()\"/>\r\n</div>\r\n\r\n\r\n<script type=\"text/javascript\">\r\n    function printDiv(divName) {\r\n         var printContents = document.getElementById(divName).innerHTML;\r\n         var originalContents = document.body.innerHTML;\r\n    \r\n         document.body.innerHTML = printContents;\r\n         window.print();\r\n         document.body.innerHTML = originalContents;\r\n    }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}